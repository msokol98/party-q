(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{112:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(18),c=a.n(l),s=(a(68),a(19)),o=a(20),i=a(23),m=a(21),u=a(28),d=a(3),h=(a(69),a(41),a(14)),g=a.n(h),p="http://3.136.106.200:8080",E=function(e){var t=e.user,a=e.logout;return r.a.createElement("div",{className:g.a.container},r.a.createElement("div",{onClick:function(){return window.location.replace("/")},className:g.a.org},r.a.createElement("img",{alt:"icon",src:"icon.png",width:"30px"}),r.a.createElement("h1",{className:g.a.brand},"Party Q"),r.a.createElement("img",{alt:"icon",src:"icon.png",width:"30px"})),r.a.createElement("input",{type:"checkbox",id:g.a.navToggle,className:g.a.navToggle}),r.a.createElement("nav",{className:g.a.nav},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"/party"},"My Party")),t?r.a.createElement("li",null,r.a.createElement("div",{className:g.a.navAuth,onClick:a,variant:"link"},r.a.createElement("a",null,"Logout"))):r.a.createElement("li",null,r.a.createElement("div",{className:g.a.navAuth,onClick:function(){return window.location="".concat("http://3.136.106.200:8888","/login")}},r.a.createElement("a",null,"Login through Spotify"))))),r.a.createElement("label",{htmlFor:g.a.navToggle,className:g.a.navToggleLabel},r.a.createElement("span",null)))},v=(a(70),a(71),a(17)),b=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"hero is-medium"},r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"hero-inner"},r.a.createElement("div",null,r.a.createElement("h2",{className:"title has-text-white",style:{paddingBottom:"3px"}},"Party Q"),r.a.createElement("h6",{className:"subtitle has-text-white"},"Join your friends. Add to the queue."),r.a.createElement(v.a,{style:{backgroundColor:"#1DB954",color:"#ffffff",border:"none",padding:"10px",fontSize:"1.05rem"},onClick:function(){return window.location="/party"}},"Host or Join A Party")),r.a.createElement("br",null),r.a.createElement("div",{className:"banner-image"},r.a.createElement("img",{src:"dj.png",alt:"banner",width:"75%"})))))),r.a.createElement("section",{className:"section has-background-white has-text-dark"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"content",style:{textAlign:"center"}},r.a.createElement("h2",{className:"has-text-weight-light"},"How It Works"),r.a.createElement("h4",{className:"has-text-weight-light"},"A friend with Spotify Premium hosts the party...",r.a.createElement("br",null),"and then starts the queue by playing a song through their Spotify."),r.a.createElement("h4",{className:"has-text-weight-light"},"Join your friend's party through the access code.",r.a.createElement("br",null),"Now anyone can add songs to the playlist!")))),r.a.createElement("section",{className:"section has-background-light"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"columns is-variable is-7 has-text-dark"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"notification has-background-white bordered"},r.a.createElement("div",{className:"home-icon-wrapper"},r.a.createElement("img",{src:"friends.png",alt:"friends",width:"75"})),r.a.createElement("h3",{className:"title has-text-weight-light"},"Enjoy Friendship"),r.a.createElement("h5",{className:"subtitle has-text-grey has-text-weight-light"},"You guys will have blast."),r.a.createElement("p",null,"Hanging out with friends with some music on is great. What's even better? Using ",r.a.createElement("strong",null,"Party Q "),"so that everyone can add to the playlist."))),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"notification has-background-white bordered"},r.a.createElement("div",{className:"home-icon-wrapper"},r.a.createElement("img",{src:"music.png",alt:"music",width:"75"})),r.a.createElement("h3",{className:"title has-text-weight-light"},"Great Music"),r.a.createElement("h5",{className:"subtitle has-text-grey has-text-weight-light"},"I can already feel the beat."),r.a.createElement("p",null,"Of course there'll be great music... It's up to you! You can choose any song from Spotify."))),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"notification has-background-white bordered"},r.a.createElement("div",{className:"home-icon-wrapper"},r.a.createElement("img",{src:"free.png",alt:"free",width:"75"})),r.a.createElement("h3",{className:"title has-text-weight-light"},"Free Service"),r.a.createElement("h5",{className:"subtitle has-text-grey has-text-weight-light"},"We'll keep your wallet happy."),r.a.createElement("p",null,"Using ",r.a.createElement("strong",null,"Party Q")," has no charges! However, the host of your party will need a Spotify Premium account. That's how the Spotify API works."))))))),r.a.createElement("section",{className:"section has-background-white has-text-dark"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"content"},r.a.createElement("h2",{className:"title has-text-weight-light"},"Users are saying..."),r.a.createElement("article",{className:"media testimonial"},r.a.createElement("figure",{className:"media-left testimonial-person-icon"},r.a.createElement("p",{className:"image is-64x64"},r.a.createElement("img",{src:"person.png",alt:"person"})),r.a.createElement("div",null,"Mike S.")),r.a.createElement("div",{className:"media-content"},r.a.createElement("blockquote",null,"I sometimes like what my friends play on Spotify, but I want a voice, too. With this website, now we can all add our songs to the playlist. Everyone wins. Bebap retatat, I love Party Q!"))),r.a.createElement("article",{className:"media testimonial"},r.a.createElement("figure",{className:"media-left testimonial-person-icon"},r.a.createElement("p",{className:"image is-64x64"},r.a.createElement("img",{src:"person2.png",alt:"person2"})),r.a.createElement("div",null,"Wendy E.")),r.a.createElement("div",{className:"media-content"},r.a.createElement("blockquote",null,"I take a lot of road trips with my friends. We don't always agree on music. I always though, \"why can we all add songs to the playlist?\" With Party Q, now we can! It's lovely.")))))),r.a.createElement("section",{className:"section orange"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"content has-text-centered"},r.a.createElement("div",{className:"serving-nc-wrapper"},r.a.createElement("div",{className:"serving-nc"},r.a.createElement("img",{src:"unc.png",alt:"nc",width:"200",className:"nc-image"})," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("h3",{className:"title has-text-weight-normal has-text-white serving-nc-label"},"Proudly originated in Chapel Hill, NC."),r.a.createElement("h4",{className:"subtitle has-text-weight-normal has-text-white"},"Now bringing friends together over music all over."))),r.a.createElement("div",{className:"is-divider","data-content":"READY?"}),r.a.createElement("button",{className:"button is-light"},"Login through Spotify"))))),r.a.createElement("footer",{className:"footer has-text-dark"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column"},r.a.createElement("h6",{className:"subtitle has-text-grey"},"Corporate HQ"),r.a.createElement("div",null,"105 Example Court"),r.a.createElement("div",null,"Chapel Hill, NC")),r.a.createElement("div",{className:"column"},r.a.createElement("h6",{className:"subtitle has-text-grey"},"Contact"),r.a.createElement("div",null,"919-791-5823"),r.a.createElement("div",null,"msokol@live.unc.edu")),r.a.createElement("div",{className:"column"},r.a.createElement("h6",{className:"subtitle has-text-grey"},"Other Features"),r.a.createElement("div",null,"Example1"),r.a.createElement("div",null,"Example2"),r.a.createElement("div",null,"Example3"),r.a.createElement("div",null,"Example4")),r.a.createElement("div",{className:"column"},r.a.createElement("h6",{className:"subtitle has-text-grey"},"Account"),r.a.createElement("a",{href:"/"},"Lorem"),r.a.createElement("br",null),r.a.createElement("a",{href:"/"},"Ipsum")))),r.a.createElement("div",{className:"is-divider","data-content":""}),r.a.createElement("div",{style:{textAlign:"left"}},"Website by Mitchell Sokol - Personal Project 2020",r.a.createElement("br",null),"Made with React, Bulma, and Java Spring Boot",r.a.createElement("br",null),"Deployed onto the web using an AWS EC2 RHEL instance",r.a.createElement("br",null),r.a.createElement("a",{href:"https://github.com/msokol98"},"See source code")))))},f=a(4),y=a(5),N=a.n(y),w=a(27),S=a(131),x=a(132),k=a(128),O=a(130),j=a(57),C=a.n(j),I=a(58),_=a.n(I),P=[{component:"Queue",icon:r.a.createElement(k.a,null)},{component:"Add Song",icon:r.a.createElement(O.a,null)},{component:"Members",icon:r.a.createElement(C.a,null)},{component:"Info",icon:r.a.createElement(_.a,null)}],A=function(e){var t=e.setVisible;return r.a.createElement(S.a,{style:{position:"fixed",bottom:"0",width:"100%",backgroundColor:"#1DB954"},showLabels:!0},P.map((function(e,a){return r.a.createElement(x.a,{key:a,onClick:function(){return t(e.component)},icon:e.icon})})))},T=a(33);a(93);var B=function(){var e=Object(n.useState)({width:void 0,height:void 0}),t=Object(f.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){function e(){r({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),a},D=(a(94),function(e){var t=e.queue,a=e.hostName,n=B().width<768,l=function(e){var t=-1;return e&&e.forEach((function(e,a){"CURRENT"===e.status&&(t=a)})),t}(t);return r.a.createElement("div",null,r.a.createElement("h2",{className:"title has-text-light queue-header"},"The Queue"),r.a.createElement("br",null),!t||0===t.length&&r.a.createElement("h3",{style:{textAlign:"center"}},"Host, play a song to get started."),t&&r.a.createElement(T.a,{naturalSlideWidth:100,naturalSlideHeight:125,totalSlides:t.length,visibleSlides:n?1:3,currentSlide:n?l:l-1},r.a.createElement(T.c,null,t.map((function(e,t){var c,s=t===l,o="CURRENT"===e.status||"NEXT"===e.status?"#1DB954":"#F0F0F0";return n||!s?c=n?"90%":"40%":n||(c="60%"),r.a.createElement(T.b,{key:t,className:"song",style:{fontSize:s?"1.2rem":"1rem"}},r.a.createElement("h5",null,e.name),r.a.createElement("h5",null,"By ",e.artist),r.a.createElement("img",{src:e.imageURI,width:c,alt:"song"}),r.a.createElement("h5",{style:{color:o}},e.status),r.a.createElement("h5",null,"Picked by ",""==e.picker?a:e.picker))})))))}),H=(a(52),function(e){var t=e.song,a=e.addSong,n=B().width<768;return r.a.createElement("div",{className:"result bordered has-background-white",onClick:function(){return a(t)}},r.a.createElement("img",{src:t.album.images[0].url,width:n?"100%":"200px",alt:"song"}),r.a.createElement("h4",null,t.name," by ",t.artists[0].name))}),q=function(e){var t=e.addSong,a=e.results,l=e.getResults,c=Object(n.useState)({value:""}),s=Object(f.a)(c,2),o=s[0],i=s[1];return r.a.createElement("div",{className:"add-song"},r.a.createElement("div",{className:"search-input-wrapper"},r.a.createElement("input",{type:"text",value:o.value,className:"search-input",placeholder:"Add a song to the queue...",onChange:function(e){e.preventDefault(),i({value:e.target.value}),l(o.value)}})),a&&a.map((function(e){return r.a.createElement(H,{addSong:t,key:e.id,song:e})})))},Q=function(e){return{artist:e.artists&&e.artists[0]&&e.artists[0].name,imageURI:e.album&&e.album.images&&e.album.images[0]&&e.album.images[0].url,name:e&&e.name}},z=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={results:[],addedSong:!1},e.getResults=function(t){var a=e.props.member;""!==t?N.a.get("https://api.spotify.com/v1/search",{headers:{Authorization:"Bearer "+a.token},params:{q:t,type:"track,album,artist",market:"US",limit:5}}).then((function(t){return e.setState({results:t.data.tracks.items})})):e.setState({results:[]})},e.addSong=function(t){e.setState({addedSong:!0});var a=e.props,n=a.partyId,r=a.hostToken,l=a.member;e.addSongToHostPlaylist(t,r),e.addSongToServerQueue(t,n,l.name)},e.addSongToHostPlaylist=function(e,t){N.a.post("https://api.spotify.com/v1/me/player/queue",{},{headers:{Authorization:"Bearer "+t},params:{uri:e.uri}})},e.addSongToServerQueue=function(e,t,a){var n=Object(w.a)({picker:a},Q(e));console.log(n),N.a.post("".concat(p,"/api/songs/add?partyId=").concat(t),n)},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.addedSong,a=e.results;return t&&this.props.resetTab(),r.a.createElement("div",{className:"add-song-wrapper"},r.a.createElement(q,{addSong:this.addSong,results:a,getResults:this.getResults}))}}]),a}(n.Component),W=r.a.createElement("strong",{style:{color:"#1DB954"}},"HOST"),L=function(e){var t=e.members,a=e.host;return r.a.createElement("div",{style:{paddingLeft:"3$"}},r.a.createElement("h2",{className:"title has-text-light"},"Members"),r.a.createElement("ul",null,t.map((function(e){var t=e.id===a.id;return r.a.createElement("li",{key:e.id},r.a.createElement("h4",null,e.name," ",t&&W))}))))},R=function(e){return e?"Delete Party":"Leave Party"},M=function(e){var t=e.entryCode,a=e.host,n=e.isHost,l=e.leaveParty;return r.a.createElement("div",null,r.a.createElement("h4",{className:"title has-text-light"},"Party Info"),r.a.createElement("h4",{className:"has-text-light"},"Party hosted by ",a),r.a.createElement("h4",{className:"has-text-light"},"Entry code is ",t),r.a.createElement("br",null),r.a.createElement(v.a,{style:{backgroundColor:"#1DB954",color:"#ffffff",border:"none",padding:"10px",fontSize:"1.05rem"},onClick:l},R(n)))},J=(a(95),function(e){if(e.includes(" "))return e.split(" ")[0]}),U=function(e){var t=e.member,a=e.party,l=e.leaveParty,c=Object(n.useState)("Queue"),s=Object(f.a)(c,2),o=s[0],i=s[1];return r.a.createElement("div",{className:"party-container"},r.a.createElement("div",{className:"five-percent-padding"},"Queue"===o&&r.a.createElement(D,{queue:a.queue,hostName:J(a.host.name)}),"Add Song"===o&&r.a.createElement(z,{resetTab:function(){return i("Queue")},member:t,hostToken:a.host.token,partyId:a.id}),"Members"===o&&r.a.createElement(L,{members:a.members,host:a.host}),"Info"===o&&r.a.createElement(M,{entryCode:a.entryCode,host:a.host.name,leaveParty:l,isHost:t.id===a.host.id})),r.a.createElement(A,{setVisible:i}))},F=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={currentSong:JSON.parse(localStorage.getItem("currentSong")),queue:[]},e.getCurrentSong=function(){var t=e.props.party,a=e.state.currentSong;t&&t.host&&N.a.get("https://api.spotify.com/v1/me/player/currently-playing",{headers:{Authorization:"Bearer "+t.host.token}}).then((function(t){var n=t.data.item;n&&(!a||n.id!==a.id)&&e.changeCurrentSong(n)}))},e.changeCurrentSong=function(t){var a=e.props.party;e.setState({currentSong:t},(function(){return t&&localStorage.setItem("currentSong",JSON.stringify(t))})),N.a.post("".concat(p,"/api/songs/current?partyId=").concat(a.id),Q(t))},e.getQueue=function(){N.a.get("".concat(p,"/api/songs/all"),{params:{partyId:e.props.party.id}}).then((function(t){return e.setState({queue:t.data})}))},e.leaveParty=function(){var t=e.props,a=t.party,n=t.member;N.a.get("".concat(p,"/api/members/leave"),{params:{memberId:n.id,partyId:a.id}}).then((function(){alert("You have left the party."),e.setState({leftParty:!0})}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.party;e.member.id,t.host.id,setInterval(this.getCurrentSong,1e3),setInterval(this.getQueue,1e3)}},{key:"render",value:function(){if(this.state.leftParty)return r.a.createElement(d.a,{to:"/"});var e=this.props,t=e.party,a=e.member,n=this.state.queue;return n.currentSongIdx=t.currentSongIdx,r.a.createElement("div",null,r.a.createElement(U,{party:Object(w.a)(Object(w.a)({},t),{},{queue:n}),member:a,leaveParty:this.leaveParty}))}}]),a}(n.Component),Y=function(e){var t=e.member,a=Object(n.useState)(),l=Object(f.a)(a,2),c=l[0],s=l[1];return Object(n.useEffect)((function(){N.a.post("".concat(p,"/api/parties/new"),t).then((function(e){return s(e.data)}))}),[]),c?r.a.createElement(F,{member:t,party:c}):r.a.createElement(r.a.Fragment,null)},G=function(e){var t=e.joinGroup,a=e.error,l=Object(n.useState)({value:""}),c=Object(f.a)(l,2),s=c[0],o=c[1];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(s.value)},className:"hnp-wrapper content section"},r.a.createElement("h4",{className:"title has-text-light"},"Please enter your party's entry code."),r.a.createElement("input",{type:"text",maxLength:"6",value:s.value,onChange:function(e){e.target.val;(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&o({value:e.target.value})},style:{maxWidth:"500px",width:"100%",padding:"10px",marginBottom:"20px"}}),r.a.createElement(v.a,{style:{maxWidth:"500px",border:"none",backgroundColor:"#1DB954",padding:"10px"},size:"block",type:"submit"},"Submit"),r.a.createElement("br",null),r.a.createElement("br",null),a&&r.a.createElement("h6",{style:{color:"red",textAlign:"center"}},"Could not find a party with the given entry code."))},V=function(e){var t=e.member,a=Object(n.useState)(!1),l=Object(f.a)(a,2),c=l[0],s=l[1],o=Object(n.useState)(),i=Object(f.a)(o,2),m=i[0],u=i[1];return m?r.a.createElement(F,{member:t,party:m}):r.a.createElement(G,{joinGroup:function(e){N.a.get("".concat(p,"/api/parties/join"),{params:{memberId:t.id,entryCode:e}}).then((function(e){return u(e.data)})).catch((function(){return s(!0)}))},error:c})},$=(a(98),function(e){var t=e.member,a=Object(n.useState)(),l=Object(f.a)(a,2),c=l[0],s=l[1];return c?"host"===c?r.a.createElement(Y,{member:t}):r.a.createElement(V,{member:t}):r.a.createElement("div",{className:"hnp-wrapper content section"},r.a.createElement("h4",{className:"title has-text-light"},"What do you want to do?"),r.a.createElement("div",{className:"hnp-button-group"},r.a.createElement(v.a,{style:{border:"none",backgroundColor:"#1DB954",padding:"10px"},size:"lg",onClick:function(){return s("host")},variant:"primary"},"Host Party"),r.a.createElement(v.a,{style:{border:"none",backgroundColor:"#1DB954",padding:"10px"},size:"lg",onClick:function(){return s("join")},variant:"primary"},"Join Party")))}),X=a(59),K=a.n(X),Z=function(){return r.a.createElement(K.a,{zIndex:"10000000",type:"balls",color:"#1DB954",height:"20%",width:"50%"})},ee=function(e){var t=e.member,a=Object(n.useState)(!0),l=Object(f.a)(a,2),c=l[0],s=l[1],o=Object(n.useState)(),i=Object(f.a)(o,2),m=i[0],u=i[1],d=Object(n.useState)(),h=Object(f.a)(d,2),g=h[0],E=h[1];return Object(n.useEffect)((function(){N.a.get("".concat(p,"/api/parties/exists"),{params:{memberId:t.id}}).then((function(e){u(e.data),s(!1)}))}),[]),Object(n.useEffect)((function(){m&&N.a.get("".concat(p,"/api/parties"),{params:{memberId:t.id}}).then((function(e){return E(e.data)}))}),[m]),c?r.a.createElement(Z,null):m?g?r.a.createElement(F,{member:t,party:g}):r.a.createElement(Z,null):r.a.createElement($,{member:t})},te=a(60),ae=a.n(te),ne=a(61),re=function(e){var t=e.component,a=e.user,n=Object(ne.a)(e,["component","user"]);return r.a.createElement(d.b,Object.assign({},n,{render:function(e){if(a)return r.a.createElement(t,Object.assign({member:a},n,e));window.location="".concat("http://3.136.106.200:8888","/login")}}))},le=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={token:ae.a.parse(window.location.search).access_token,user:JSON.parse(localStorage.getItem("user"))},e.fetchUser=function(){var t=e.state,a=t.token;!t.user&&a&&N.a.get("https://api.spotify.com/v1/me",{headers:{Authorization:"Bearer "+a}}).then((function(t){return e.storeUser(t.data)}))},e.storeUser=function(t){var a=e.state.token;N.a.post("".concat(p,"/api/members"),{name:t.display_name,email:t.email,token:a}).then((function(t){var a=t.data;e.setState({user:a}),localStorage.setItem("user",JSON.stringify(a))}))},e.logout=function(){localStorage.removeItem("user"),e.setState({user:null})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.fetchUser()}},{key:"render",value:function(){var e=this.state.user;return r.a.createElement("div",{className:"App has-text-light has-background-dark"},r.a.createElement(E,{user:e,logout:this.logout}),r.a.createElement("div",{style:{minHeight:"100vh",paddingTop:"70px"}},r.a.createElement(u.a,null,r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",component:b}),r.a.createElement(re,{user:e,exact:!0,path:"/party",component:ee})))))}}]),a}(n.Component);a(111);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(le,null)),document.getElementById("root"))},14:function(e,t,a){e.exports={container:"styles_container__2hzRJ",brand:"styles_brand__Obf4_",org:"styles_org__9Ercr",logo:"styles_logo__3dTzk",nav:"styles_nav__1rega",navToggle:"styles_navToggle__2DdAM","nav-auth":"styles_nav-auth__3fqca",navToggleLabel:"styles_navToggleLabel__20CMW",desktopDropdown:"styles_desktopDropdown__ObP_4",navAuth:"styles_navAuth__1_5ON"}},52:function(e,t,a){},63:function(e,t,a){e.exports=a(112)},68:function(e,t,a){},69:function(e,t,a){},71:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},98:function(e,t,a){}},[[63,1,2]]]);
//# sourceMappingURL=main.a57f87ab.chunk.js.map